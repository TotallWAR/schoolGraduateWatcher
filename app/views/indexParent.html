<!doctype html>
<html>

<head>
    <meta name="csrf-token" content="XYZ123">
    <meta charset="utf-8">
    <!-- BOOTSTRAP -->
    <!--	 <link href="css/bootstrap.css" rel="stylesheet" /> -->
    <!--	 <link href="css/bootstrap-theme.css" rel="stylesheet" /> -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="manifest.json">
    <link rel="shortcut icon" href="public/img/logo-32x32.png">

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.6/material.indigo-pink.min.css">
    <script src="https://storage.googleapis.com/code.getmdl.io/1.0.6/material.min.js"></script>

    <!-- ANGULARJS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.js"></script>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.css" />
    <script src="//cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>

    <script src="public/scripts/parent/schedule/main.js"></script>
    <!-- Resource jQuery -->
    <script src="public/scripts/parent/services/scheduleService.js"></script>
    <script src="public/scripts/parent/services/pupilService.js"></script>
    <script src="public/scripts/parent/services/chatService.js"></script>
    <script src="public/scripts/shared/usersService.js"></script>
    <script src="public/scripts/parent/services/marksService.js"></script>
    <script src="public/scripts/shared/upDownloadService.js"></script>


    <script src="public/scripts/shared/partialController.js"></script>
    <script src="public/scripts/parent/controllers/pupilController.js"></script>
    <script src="public/scripts/parent/controllers/chatController.js"></script>
    <script src="public/scripts/parent/controllers/marksController.js"></script>
    <script src="public/scripts/shared/upDownloadController.js"></script>

    <script src="public/scripts/parent/filters/chatFilter.js"></script>

    <script src="public/scripts/parent/directives/chatDirective.js"></script>
    <script src="public/scripts/shared/uploadDirective.js"></script>


    <script src="public/scripts/parent/core/pupilCore.js"></script>
    <script src="public/scripts/parent/studentInfo.js"></script>
    <script src="public/scripts/parent/scroll.js"></script>



    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" rel="stylesheet">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" type="text/css" href="public/css/styleParent.css">



    <title>PWA</title>

</head>
<div ng-app="pupils" class="ng-scope">
    <div ng-controller="partialCtrl">
        <div class="headerParent">
            <nav class="navbar navbar-default" id="colorful-nav">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
                    </div>
                    <div class="collapse navbar-collapse" id="myNavbar">
                        <ul class="nav navbar-nav">
                            <li class="profile" id="profile"><a class="page-scroll" href="#form"><span class="glyphicon glyphicon-user"></span><h5>PUPILS</h5></a></li>
                            <li class="statistics" id="statistics"><a class="page-scroll" href="#schedule"><span class="glyphicon glyphicon-align-justify"></span><h5>SCHEDULE</h5></a></li>
                            <li class="chatMenu" id="chatMenu"><a class="page-scroll" href="#tutorChat"><span class="glyphicon glyphicon-envelope"></span><h5>CHAT</h5></a></li>
                            <li class="lists" id="marks"><a class="page-scroll" href="#homework"><span class="glyphicon glyphicon-list-alt"></span><h5>MARKS</h5></a></li>
                            <li class="about" id="upDownloadMenu"><a class="page-scroll" href="#upDownload"><span class="glyphicon glyphicon-info-sign"></span><h5>UP/DOWNLOAD</h5></a></li>
                            <li class="logout" id="logout"><a ng-click="logout()" href="#"><span class="glyphicon glyphicon-log-out"></span><h5>Logout</h5></a></li>

                        </ul>
                    </div>
                </div>
            </nav>
            <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        </div>
    </div>

    <div class="push" style="text-align: center;">
        <h1>Push Notification</h1>
        <p style="margin-top: 40px;">
            You can enable push notifications to always be up to date with the latest events. Notice, you can turn in off if you dont like it.
        </p>
        <p style="margin: 40px 0px">
            <button disabled class="js-push-btn mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">
        Enable Push Messaging
      </button>
        </p>
        <section class="subscription-details js-subscription-details is-invisible" style="display:none;">
            <pre><code class="js-subscription-json" ></code></pre>
        </section>
    </div>
    <header id="formPupilInfo">
        <h1>Student info</h1>
    </header>
    <div ng-controller="pupilCtrl" class="pupilInfo aqua" id="form">

        <div class="fish" id="fish"></div>
        <div class="fish" id="fish2"></div>

        <form id="waterform" method="post">

            <div class="formgroup" id="firstName-form">
                <label for="firstName">Firstname</label>
                <input type="info" id="firstName" name="name" value="{{pupil.firstName}}" readonly/>
            </div>

            <div class="formgroup" id="lastName-form">
                <label for="lastName">Lastname</label>
                <input type="info" id="lastName" name="lastName" value="{{pupil.lastName}}" readonly/>
            </div>
            <div class="formgroup" id="class-form">
                <label for="firstName">Class</label>
                <input type="info" id="class" name="name" value="{{pupil.class}}" readonly/>
            </div>

            <div class="formgroup" id="schoolName-form">
                <label for="firstName">School Name</label>
                <input type="info" id="schoolName" name="name" value="{{pupil.schoolName}}" readonly/>
            </div>

        </form>
        <br><br><br><br>
    </div>

    <div ng-controller="pupilCtrl" class="schedule" id="schedule">
        <div id="wrapper" style="text-align: center">
            <input type="text" value="Schedule" style="display: inline-block;" readonly/>
        </div>

        <body>
            <div class="cd-schedule loading">
                <div class="timeline">
                    <ul>
                        <li><span>09:00</span></li>
                        <li><span>09:30</span></li>
                        <li><span>10:00</span></li>
                        <li><span>10:30</span></li>
                        <li><span>11:00</span></li>
                        <li><span>11:30</span></li>
                        <li><span>12:00</span></li>
                        <li><span>12:30</span></li>
                        <li><span>13:00</span></li>
                        <li><span>13:30</span></li>
                        <li><span>14:00</span></li>
                        <li><span>14:30</span></li>
                        <li><span>15:00</span></li>
                        <li><span>15:30</span></li>
                        <li><span>16:00</span></li>
                        <li><span>16:30</span></li>
                        <li><span>17:00</span></li>
                        <li><span>17:30</span></li>
                        <li><span>18:00</span></li>
                    </ul>
                </div>
                <!-- .timeline -->

                <div ng-view class="events">
                    <ul>
                        <li class="events-group">
                            <div class="top-info"><span>Monday</span></div>

                            <ul>
                                <li ng-repeat="item in schedule.monday" class="single-event" data-start="{{item.StartTime}}" data-end="{{item.EndTime}}" data-content="Teacher: {{item.Teacher}}<br><br>Room: {{item.Room}}<br><br>Homework: {{item.Homework}}" data-event="event-1">
                                    <a href="#0">
                                        <em class="event-name">{{item.Subject}}</em>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="events-group">
                            <div class="top-info"><span>Tuesday</span></div>

                            <ul>
                                <li ng-repeat="item in schedule.tuesday" class="single-event" data-start="{{item.StartTime}}" data-end="{{item.EndTime}}" data-content="Teacher: {{item.Teacher}}<br><br>Room: {{item.Room}}<br><br>Homework: {{item.Homework}}" data-event="event-1">
                                    <a href="#0">
                                        <em class="event-name">{{item.Subject}}</em>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="events-group">
                            <div class="top-info"><span>Wednesday</span></div>

                            <ul>
                                <li ng-repeat="item in schedule.wednesday" class="single-event" data-start="{{item.StartTime}}" data-end="{{item.EndTime}}" data-content="Teacher: {{item.Teacher}}<br><br>Room: {{item.Room}}<br><br>Homework: {{item.Homework}}" data-event="event-1">
                                    <a href="#0">
                                        <em class="event-name">{{item.Subject}}</em>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="events-group">
                            <div class="top-info"><span>Thursday</span></div>

                            <ul>
                                <li ng-repeat="item in schedule.thursday" class="single-event" data-start="{{item.StartTime}}" data-end="{{item.EndTime}}" data-content="Teacher: {{item.Teacher}}<br><br>Room: {{item.Room}}<br><br>Homework: {{item.Homework}}" data-event="event-1">
                                    <a href="#0">
                                        <em class="event-name">{{item.Subject}}</em>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="events-group">
                            <div class="top-info"><span>Friday</span></div>

                            <ul>
                                <li ng-repeat="item in schedule.friday" my-repeat-directive class="single-event" data-start="{{item.StartTime}}" data-end="{{item.EndTime}}" data-content="Teacher: {{item.Teacher}}<br><br>Room: {{item.Room}}<br><br>Homework: {{item.Homework}}" data-event="event-1">
                                    <a href="#0">
                                        <em class="event-name">{{item.Subject}}</em>
                                    </a>
                                </li>
                            </ul>
                        </li>


                    </ul>
                </div>

                <div class="event-modal">
                    <header class="header">
                        <div class="content">
                            <span class="event-date"></span>
                            <h3 class="event-name"></h3>
                        </div>

                        <div class="header-bg"></div>
                    </header>

                    <div class="body">
                        <div class="event-info"></div>
                        <div class="body-bg"></div>
                    </div>

                    <a href="#0" class="close">Close</a>
                </div>

                <div class="cover-layer"></div>
            </div>
            <!-- .cd-schedule -->

            <script src="public/scripts/teacher/schedule/modernizr.js"></script>

            <script>
                if (!window.jQuery) document.write('<script src="pu/jquery-3.0.0.min.js"><\/script>');
            </script>
        </body>
    </div>

    <div id="tutorChat">
        <h1>Tutor chat</h1>
        <div ng-controller="chatParentCtrl" class="ng-scope">
            <div class="col">


                <form ng-submit="sendMessage()" class="ng-pristine ng-valid">

                    <div class="overflowable">
                        <!-- ngRepeat: message in messages -->
                        <select class="mainselection" ng-model="teacherSelected" ng-change="changedValue(teacherSelected)" data-ng-options="teacher as teacher.fullName for teacher in teachers">
                        <option value="">
                            Select Teacher
                        </option>
                      </select>

                        <div id="chatBody" class="panel-body">
                            <hr>
                            <ul class="chat" ng-bind-html="renderHtml(htmlCodeMessages)">
                            </ul>
                        </div>
                        <div class="panel-footer">

                            <div class="input-group">
                                <input ng-model="message" id="btn-input" type="text" class="form-control ng-pristine ng-valid input-sm" placeholder="Type your message here..." />
                                <span class="input-group-btn">
                            <button type="submit" value="Send" class="btn btn-warning btn-sm" id="btn-chat">
                                Send</button>
                        </span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="clr">
            </div>
        </div>
    </div>

    <div id="marksPresentation" ng-controller="marksParentCtrl">
        <h1>Marks Presentation</h1>
        <select id="subjectSelect" class="mainselection" ng-model="subjectSelected" ng-change="changedSubjectValue(subjectSelected)" data-ng-options="subject as subject.subjectName for subject in subjects">
                        <option value="">
                            Select subject
                        </option>
          </select>
        <select id="typeMarkSelect" class="mainselection" ng-model="typeMarkSelected" ng-change="changedTypeMarkValue(typeMarkSelected)" data-ng-options="typeMark as typeMark for typeMark in typeMarks" style="display:none; margin: 24px;"><option value="">Select type of work</option></select>

        <div id="fishLayer" class="aqua" style="height:380px; margin:10px; border-radius:4px;">
            <div class="fish" id="fish"></div>
            <div class="fish" id="fish2"></div>
        </div>

        <div class="weekGraphic" id="weekGraphic" style="display:none">
        </div>
    </div>

    <div id="upDownload" ng-controller="upDownloadCtrl">
        <script>
            (function(e, t, n) {
                var r = e.querySelectorAll("html")[0];
                r.className = r.className.replace(/(^|\s)no-js(\s|$)/, "$1js$2")
            })(document, window, 0);
        </script>
        <h1>Up/Downloading files</h1>
        <div class="box">
            <div class="buttonsGroup">
                <input type="file" name="file-5[]" id="file-5" class="inputfile inputfile-4" data-multiple-caption="{count} files selected" multiple file-model="myFile" />
                <label for="file-5"><figure><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewbox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg></figure> <span>Choose a file&hellip;</span></label>

                <button ng-click="uploadFile()" id="file-6" class="inputfile inputfile-5"></button>
                <label for="file-6"><figure><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewbox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg></figure> <span>Upload File</span></label>

                <!--              <button ng-click = "uploadFile()">Upload File</button>-->
            </div>
            <table class="table">
                <thead>
                    <tr>
                        <th> File Name </th>
                        <th> Download </th>
                    </tr>
                </thead>
                <tbody id="tbody">
                </tbody>
            </table>
        </div>
        <script src="public/scripts/parent/custom-file-input.js"></script>

        <!--          <input type = "file" file-model = "myFile" />-->

    </div>

    <div class="attendance">
    </div>

    <div class="footer" ng-include src="'public/partial/footer.html'">
    </div>


    <!-- <main>
        <div class="push-switch-container js-push-switch-container">
            <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect js-push-toggle-switch" for="switch-2">
          <input type="checkbox" id="switch-2" class="mdl-switch__input" disabled>
          <span class="mdl-switch__label">Enable Push Notifications</span>
        </label>
        </div>

        <div class="content-overlap-wrapper">
            <div class="send-push-options js-send-push-options">
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label payload-textfield js-payload-textfield-container hidden">
                    <input class="mdl-textfield__input js-payload-textfield" type="text" id="payload-textfield">
                    <label class="mdl-textfield__label" for="payload-textfield">Add Payload Text</label>
                </div>

                <p class="state-msg js-state-msg"></p>

                <p class="center js-xhr-button-container">
                    <button class="xhr-button js-send-push-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect">
              Send a Push via XHR
            </button>
                </p>

                <div class="js-curl-container">
                    <hr />
                    <h4>CURL Command</h4>
                    <p class="js-curl-copy-msg">Copy and paste the following CURL command into your terminal to send a push message to your browser.
                    </p>
                    <p class="js-curl-error-msg"></p>

                    <p class="snippet-code">
                        <code class="curl-code-example js-curl-code language-markup"></code>
                    </p>
                </div>

                <div class="js-api-request">
                    <hr />
                    <h4>Push from a Server</h4>

                    <p>To send a push message to this page, you need to make a network request from your server with the following pieces of info (this is essentially a breakdown of the CURL command above):</p>

                    <h5>Endpoint URL</h5>

                    <pre><code class="js-endpoint"></code></pre>

                    <h5>Headers</h5>

                    <div class="js-headers-list">
                    </div>

                    <h5>Request Body</h5>

                    <p class="small-margin"><strong>Type</strong>: <span class="js-body-format"></span></p>

                    <p class="small-margin"><strong>Content</strong>: <span class="js-body-content"></span></p>
                    <hr />
                </div>

                <p><strong>Notes:</strong></p>

                <ul>
                    <li>For more info on the encryption of payloads: <a href="https://developers.google.com/web/updates/2016/03/web-push-encryption?hl=en">Check out this link for info</a>.</li>
                    <li>Not seeing a notification in Firefox? <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1233086">This bug may be the culprit.</a> Check the logs for a note when the push is received though.</li>
                    <li>Opera supports push on Android, but not on desktop and there is no feature detect for this :(. Bug has been filed on their private issue tracker.</li>
                </ul>
            </div>
            <div class="error-message-container js-error-message-container">
                <h1 class="error-title js-error-title"></h1>
                <p class="error-message js-error-message"></p>
            </div>
        </div>
    </main> -->



    <!-- <script src="/public/scripts/push/encryption/helpers.js"></script>
    <script src="/public/scripts/push/encryption/hmac.js"></script>
    <script src="/public/scripts/push/encryption/hkdf.js"></script>
    <script src="/public/scripts/push/encryption/encryption-factory.js"></script>
    <script src="/public/scripts/push/libs/snippets.js"></script>
    <script src="/public/scripts/push/push-client.js"></script>
    <script src="/public/scripts/push/main.js"></script>
    <script src="/public/scripts/push/libs/idb-keyval.js"></script>
    <script src="public/scripts/push/app-controller.js"></script> -->
    <script src="public/scripts/push/pushController.js"></script>

    <script src="upup.min.js"></script>
    <script src="upup.sw.min.js"></script>

    <script></script>
    <script>
        UpUp.start({
            'content-url': 'app/views/offline.html',
            'assets': [
                'public/css/offline.css'
                // Other assets like images, JS libraries etc
            ]
        });
    </script>
    <!-- <script>
        if ('serviceWorker' in navigator && 'PushManager' in window) {
            console.log('Service Worker and Push is supported');

            //navigator.serviceWorker.register('sw.js')
            navigator.serviceWorker.register('swParent.js', {
                    scope: './'
                })
                .then(function(swReg) {
                    console.log('Service Worker is registered', swReg);

                    swRegistration = swReg;
                    initialiseUI();
                })
                .catch(function(error) {
                    console.error('Service Worker Error', error);
                });
        } else {
            console.warn('Push messaging is not supported');
            pushButton.textContent = 'Push Not Supported';
        }
    </script> -->
    <!-- <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker
                .register('/sw.js')
                .then(function() {
                    console.log("Service Worker Registered");
                });
        }
    </script> -->


</div>

</html>
